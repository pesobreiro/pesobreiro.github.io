<H3><A href="#TOC4" name="SEC4">Inquiry API</A></H3><P><BR>The Inquiry API provides three forms of query that follow broadly used conventions which match the needs of software traditionally used within registries.</P><H3><A href="#TOC5" name="SEC5">The browse pattern</A></H3><P>Software that allows people to explore and examine data - especially hierarchical data - requires browse capabilities. The browse pattern characteristically involves starting with some broad information, performing a search, finding general result sets and then selecting more specific information for drill-down.<BR>The UDDI API specifications accommodate the browse pattern by way of the <I>find_xx</I> API calls. These calls form the search capabilities provided by the API and are matched with summary return messages that return overview information about the registered information that is associated with the inquiry message type and the search criteria specified in the inquiry.<BR>A typical browse sequence might involve finding whether a particular business you know about has any information registered. This sequence would start with a call to <I>find_business</I>, perhaps passing the first few characters of a business name that you know. This returns a <I>businessList</I> result. This result is overview information (keys, names and descriptions) derived from the registered businessEntity information, matching on the name fragment that you provided.<BR>If you spot the business you are looking for within this list, you can drill down into the corresponding businessService information, looking for particular service types (e.g. purchasing, shipping, etc) using the <I>find_service</I> API call. Similarly, if you know the technical <I>fingerprint</I> (tModel signature) of a particular software interface and want to see if the business you've chosen provides a web service that supports that interface, you can use the find_binding inquiry message.</P><H3><A href="#TOC6" name="SEC6">The drill-down pattern</A></H3><P align="left">Once you have a key for one of the four main data types managed by a UDDI or compatible registry, you can use that key to access the full registered details for a specific data instance. The UDDI data types are businessEntity, businessService, bindingTemplate and tModel. You can access the full registered information for any of these structures by passing a relevant key type to one of the <I>get_xx</I> API calls.<BR>Continuing the example from the previous section on browsing, one of the data items returned by all of the <I>find_x</I><I> </I>return sets is key information. In the case of the business we were interested in, the businessKey value returned within the contents of a businessList structure can be passed as an argument to<I>get_businessDetail</I>. The successful return to this message is a <I>businessDetail</I> message containing the full registered information for the entity whose key value was passed. This will be a full <I>businessEntity</I> structure.</P><H3><A href="#TOC7" name="SEC7">The invocation pattern</A></H3><P>In order to prepare an application to take advantage of a remote web service that is registered within the UDDI registry by other businesses or entities, you need to prepare that application to use the information found in the registry for the specific service being invoked. <BR>The <I>bindingTemplate</I> data obtained from the UDDI registry represents the specific details about an instance of a given interface type, including the location at which a program starts interacting with the service. The calling application or program should cache this information and use it to contact the service at the registered address whenever the calling application needs to communicate with the service instance. <BR>If the remote service has been moved without any knowledge on the part of the callers, the call will fail. When a call fails using cached information previously obtained from a UDDI register, the proper behavior is to query the UDDI registry for fresh bindingTemplate information. The proper call is <I>get_bindingDetails</I> passing the original bindingKey value. If the data returned is different from the cached information, the service invocation will retry the invocation using the fresh information. If the result of this retry is successful, the new information replaces the cached information.<BR>By using this pattern with web services, a business using a UDDI operator Site can automate the recovery of a large number of partners without undue communication and coordination costs. For example, if a business has activated a disaster recovery site, most of the calls from partners will fail when they try to invoke services at the failed site. By updating the UDDI information with the new address for the service, partners who use the invocation pattern will automatically locate the new service information and recover without further administrative action.</P><H3><A href="#TOC8" name="SEC8">Inquiry API functions</A></H3><P>The messages in this section represent inquiries that anyone can make of any Operator Site at any time. These messages all behave synchronously and are required to be exposed via HTTP-POST only. Other synchronous or asynchronous mechanisms may be provided at the discretion of the individual UDDI Operator Site of UDDI compatible registry.</P><H4><A href="#TOC9" name="SEC9">Accessible queries</A></H4><P>The accessible queries are:<BR></P><DL>
  <DT>find_binding
  <DD>used to locate specific bindings within a registered businessService. Returns a bindingDetail message.
  <DT>find_business
  <DD>used to locate information about one or more businesses. Returns a businessList message.
  <DT>find_relatedBusinesses
  <DD>used to locate information about businessEntity registrations that are related to a specific business entity whose key is passed in the inquiry. The Related Businesses feature is used to manage registration of business units and subsequently relate them based on organizational hierarchies or business partner relationships. Returns a relatedBusinessList message.
  <DT>find_Service
  <DD>used to locate specific services within a registered businessEntity. Returns a serviceList message.
  <DT>find_tModel
  <DD>used to locate one or more tModel information structures. Returns a tModelList structure.
  <DT>get_bindingDetail
  <DD>used to get full bindingTemplate information suitable for making one or more service requests. Returns a bindingDetail message.
  <DT>get_businessDetail
  <DD>used to get the full businessEntity information for one or more businesses or organizations. Returns a businessDetail message
  <DT>get_businessDetailExt
  <DD>used to get extended businessEntity information. Returns a businessDetailExt message.
  <DT>get_serviceDetail
  <DD>used to get full details for a given set of registered businessService data. Returns a serviceDetail message.
  <DT>get_tModelDetail
  <DD>used to get full details for a given set of registered tModel data. Returns a tModelDetail message.
</DL><H3><A href="#TOC10" name="SEC10">find_binding</A></H3><P>The find_binding API call returns a bindingDetail message that contains zero or more bindingTemplate structures matching the criteria specified in the argument list.</P><H4><A href="#TOC11" name="SEC11">Syntax</A></H4><P><SAMP>&lt;find_binding serviceKey=&quot;uuid_key&quot; [maxRows=&quot;nn&quot;] generic=&quot;2.0&quot;<BR>xmins=&quot;urn:uddi-org:api_v2&quot;&gt;<BR>[&lt;findQualifiers/&gt;]<BR>&lt;tModelBag/&gt;<BR>&lt;/find_binding&gt;</SAMP></P><H4><A href="#TOC12" name="SEC12">Arguments</A></H4><UL>
  <LI><B>serviceKey: </B>This uuid_key is used to specify a particular instance of a businessService element in the registered data. Only bindings in the specific businessService data identified by the serviceKey passed will be searched.
  <LI><B>maxRows:</B> This optional integer value allows the requesting program to limit the number of results returned.
  <LI><B>findQualifiers:</B> This optional collection of findQualifier elements can be used to alter the default behavior of search functionality.
  <LI><B>tModelBag: </B>This is a list of tModel <I>uuid_key</I> values that represent the technical <I>fingerprint</I> of a bindingTemplate structure contained within the businessService specified by the serviceKey value. Only bindingTemplates that contain all of the tModel keys specified will be returned (logical AND). the order of the keys in the tModel bag is not relevant.
</UL><H4><A href="#TOC13" name="SEC13">Returns</A></H4><P>This API call returns a bindingDetail message upon success. In the event that no matches were located for the specified criteria, the bindingDetail structure returned will be empty (e.g. contain no bindingTemplate data). This signifies a zero match result. If no arguments are passed, a zero-match result will be returned.<BR>In the event of an overly large number of matches (as determined by each Operator Site), or if the number of matches exceeds the value of the <I>maxRows</I> attribute, the Operator site will truncate the result set. If this occurs, the response message will contain the <I>truncated </I>attribute with the value <I>&quot;true&quot;</I>.<BR>If any error occurs in processing this API call, a dispositionReport element will be returned to the caller within a SOAP Fault. The following error number information is relevant:<BR></P><DL>
  <DT>E_invalidKeyPassed
  <DD>signifies that the <I>uuid_key</I> value passed does not match with any known serviceKey or tModelKey values. The error structure signifies which condition occurred first, and the invalid key is included clearly in text.
  <DT>E_unsupported
  <DD>signifies that one of the findQualifier values passed is invalid. The invalid qualifier is indicated clearly in text.
</DL><H3>find_business</H3><P>The find_business API call returns a businessList message that matches the conditions specified in the arguments.</P><H4>Syntax</H4><SAMP>&lt;find_business [maxRows=&quot;nn&quot;] generic=&quot;2.0&quot; xmins=&quot;urn:uddi-org:api_v2&quot;&gt;<BR>[&lt;findQualifiers/&gt;<BR>[&lt;name/&gt; [&lt;name/&gt;]... ] (up to five different name values)<BR>[&lt;discoveryURLs/&gt;<BR>[&lt;indentifierBag/&gt;<BR>[&lt;categoryBag/&gt;<BR>[&lt;tModelBag/&gt;<BR>&lt;/find_business&gt;</SAMP><H4>Arguments</H4><UL>
  <LI><B>maxRows:</B>&nbsp;This optional integer value allows the requesting program to limit the number of results returned.
  <LI><B>findQualifiers:</B> This collection of findQualifier elements can be used to alter the default behavior of search functionality.
  <LI><B>name:</B> This string is a partial or full business name. Wildcard searching (which can be disabled by specifying the ExactName find qualifie value) can be accomplished using the % character. The businessList returned contains businessInfo structures for businesses whose name matches the value(s) passed (lexical-order match - i.e. leftmost in left-to-right languages - if no wild cards are present). Up to 5 name values may be specified. If multiple name values are passed, the match occurs on a logical OR basis.
  <LI><B>identifierBag:</B> This is a list of business identifier references. The returned businessList contains businessInfo structures matching any of the identifiers passed (logical OR by default).
  <LI><B>categoryBag:</B>&nbsp;this is a list of category references. The returned businessList contains businessInfo elements matching all of the categories passed (logical AND by default). Special findQualifers are defined that affect categoryBag treatment.
  <LI><B>tModelBag:</B> The registered businessEntity data contains a bindingTemplates element that in turn contains bindingTemplate elements that contain specific tModel references. The tModelBag arguement lets you search for businesses that have bindings that expose a specific <I>fingerprint</I> within the tModelInstanceDetails collection. The returned businessList contains businessInfo structures that provide a summarized view of registered businessEntity data that contains bindingTemplate structures that match all of the tModel keys passed (logical AND by default).
  <LI><B>discoveryURLs:</B> This is a list of URLs to be matched against the discoveryURL data associated with any registered businessEntity information. To search for URL without regard to useType attribute values, pass the useType component of the discoveryURL elements as empty attributes. If useTpye values are included, then the match will be made only on registered information that matches both the useTpye and URL value. The returned businessList contains businessInfo structures matching any of the URL's passed (logical OR).
</UL><H4>Returns</H4>
<P>This call returns a businessList on success. This structure contains information about each matching business, and summaries of the businessServices exposed by the individual businesses. If a tModel was used in the search, the resulting serviceInfos structure will only reflect data for the businessServices that actually contain a matching bindingTemplate. In the event that no matches were located for the specified criteria, a businessList structure with zero businessInfo structures is returned. If no arguments are passed, a zero-match result set will be returned.<BR></P>